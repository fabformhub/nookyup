<div class="max-w-6xl mx-auto py-16 px-6">

  <!-- Page Title -->
  <div class="mb-14">
    <h1 class="text-5xl font-extrabold tracking-tight text-pink-300 drop-shadow-[0_0_25px_rgba(236,72,153,0.35)]">
      Dashboard
    </h1>
    <p class="text-lg text-slate-400 mt-3">
      Your activity, ads, and performance at a glance.
    </p>
  </div>

  <!-- Stats -->
  <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-16">
    
    <!-- Stat Card -->
    <div class="nookyup-hover p-7 rounded-2xl bg-slate-900/40 border border-slate-800/60 backdrop-blur-xl
                text-slate-200 transition-all duration-500 hover:scale-[1.06]
                hover:border-pink-500/70 hover:shadow-[0_0_35px_rgba(236,72,153,0.6)]">
      <p class="text-sm text-slate-400 mb-1">Live ads</p>
      <p class="text-4xl font-bold tracking-tight"><%= stats.live || 0 %></p>
    </div>

    <div class="nookyup-hover p-7 rounded-2xl bg-slate-900/40 border border-slate-800/60 backdrop-blur-xl
                text-slate-200 transition-all duration-500 hover:scale-[1.06]
                hover:border-pink-500/70 hover:shadow-[0_0_35px_rgba(236,72,153,0.6)]">
      <p class="text-sm text-slate-400 mb-1">Drafts</p>
      <p class="text-4xl font-bold tracking-tight"><%= stats.drafts || 0 %></p>
    </div>

    <div class="nookyup-hover p-7 rounded-2xl bg-slate-900/40 border border-slate-800/60 backdrop-blur-xl
                text-slate-200 transition-all duration-500 hover:scale-[1.06]
                hover:border-pink-500/70 hover:shadow-[0_0_35px_rgba(236,72,153,0.6)]">
      <p class="text-sm text-slate-400 mb-1">Pending review</p>
      <p class="text-4xl font-bold tracking-tight"><%= stats.pending || 0 %></p>
    </div>

  </div>

  <!-- Header + Create Button -->
  <div class="flex justify-between items-center mb-10">
    <h2 class="text-3xl font-semibold text-pink-300 tracking-tight">
      Your ads
    </h2>

    <a 
      href="/start" 
      class="nookyup-hover text-lg px-5 py-3 rounded-lg text-pink-300 border border-pink-500/40
             bg-slate-900/40 backdrop-blur-xl transition-all duration-500 hover:scale-[1.06]
             hover:border-pink-500/80 hover:text-pink-200 hover:shadow-[0_0_25px_rgba(236,72,153,0.5)]">
      + Create new ad
    </a>
  </div>

  <!-- No Ads -->
  <% if (!ads || ads.length === 0) { %>

    <div class="p-10 rounded-2xl bg-slate-900/40 border border-slate-800/60 backdrop-blur-xl text-center">
      <p class="text-slate-400 text-lg">You haven’t posted any ads yet.</p>
    </div>

  <% } else { %>

    <!-- Ads List -->
    <div class="flex flex-col gap-8">
      <% ads.forEach(ad => { %>

        <div 
          class="nookyup-hover p-7 rounded-2xl bg-slate-900/30 border border-slate-800/60 backdrop-blur-xl
                 text-slate-200 flex flex-col gap-4 transition-all duration-500 hover:scale-[1.03]
                 hover:bg-gradient-to-r hover:from-pink-600/20 hover:via-fuchsia-500/10 hover:to-purple-600/20
                 hover:shadow-[0_0_45px_rgba(236,72,153,0.7)] hover:border-pink-500/70"
        >

          <div class="flex justify-between items-center">
            <h3 class="text-2xl font-semibold tracking-tight"><%= ad.title %></h3>

            <span 
              class="text-xs uppercase tracking-wide px-3 py-1 rounded-full
                <% if (ad.status === 'approved') { %> bg-green-900/40 text-green-300 border border-green-700 <% } %>
                <% if (ad.status === 'draft') { %> bg-slate-800/60 text-slate-300 border border-slate-700 <% } %>
                <% if (ad.status === 'pending') { %> bg-yellow-900/40 text-yellow-300 border border-yellow-700 <% } %>"
            >
              <%= ad.status %>
            </span>
          </div>

          <p class="text-sm text-slate-400">
            <%= ad.city_name %> · <%= ad.category_name %>
            <% if (ad.subcategory_name) { %> / <%= ad.subcategory_name %> <% } %>
          </p>

          <p class="text-slate-300 line-clamp-2"><%= ad.body %></p>

          <div class="flex gap-8 mt-4 text-sm">

            <a href="<%= ad.publicUrl %>" class="text-pink-300 hover:text-pink-200 transition">
              View
            </a>

            <a href="<%= ad.editUrl %>" class="text-slate-400 hover:text-slate-200 transition">
              Edit
            </a>

            <% if (ad.status === 'draft') { %>
              <form method="POST" action="<%= ad.submitUrl %>" class="inline">
                <button class="text-slate-400 hover:text-slate-200 transition" type="submit">
                  Submit for review
                </button>
              </form>
            <% } %>

          </div>

        </div>

      <% }) %>
    </div>

  <% } %>

</div>

