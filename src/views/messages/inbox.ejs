<% layout("../layouts/main") %>

<h1 class="text-3xl font-bold mb-8 text-pink-300 tracking-tight">Inbox</h1>

<div class="space-y-6">

  <% if (threads.length === 0) { %>
    <p class="text-slate-400 text-lg">No messages yet.</p>
  <% } %>

  <% threads.forEach(t => { %>
    <a 
      href="/messages/<%= t.sender_id %>"
      class="
        nookyup-hover
        block p-5 rounded-xl
        bg-slate-900/40 border border-slate-800/60 backdrop-blur-xl
        transition-all duration-500
        hover:scale-[1.02]
        hover:border-pink-500/70
        hover:shadow-[0_0_35px_rgba(236,72,153,0.6)]
      "
    >
      <div class="flex justify-between items-center mb-1">
        <span class="font-semibold text-slate-200 text-lg tracking-wide">
          <%= t.sender_name %>
        </span>
        <span class="text-slate-500 text-xs">
          <%= new Date(t.created_at).toLocaleString() %>
        </span>
      </div>

      <p class="text-slate-400 line-clamp-2">
        <%= t.body.substring(0, 120) %>...
      </p>
    </a>
  <% }) %>

</div>

